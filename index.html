<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Oasis Gaming Admin Commands</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #2a3b44;
            color: white;
            text-align: center;
        }

        .navbar {
            background-color: #1c2a30;
            padding: 5px;
            font-size: 14px;
        }

        .button-group {
            display: flex;
            justify-content: center;
            gap: 4px;
            margin: 5px 0;
        }
        .button {
            padding: 5px;
            background: #3e4e58;
            color: white;
            border: none;
            cursor: pointer;
            border-radius: 4px;
            font-size: 12px;
        }

        .tabs {
            display: flex;
            justify-content: center;
            gap: 4px;
            margin-top: 5px;
        }
        .tab-button {
            padding: 5px;
            background: #3e4e58;
            border: none;
            color: white;
            cursor: pointer;
            font-size: 12px;
            border-radius: 4px 4px 0 0;
        }
        .tab-button.active {
            background: #1c2a30;
        }

        .tab-content {
            display: none;
            background: #1c2a30;
            padding: 8px;
            border-radius: 0 0 8px 8px;
            font-size: 14px;
        }
        .tab-content.active {
            display: block;
        }

        .input-group {
            display: flex;
            justify-content: center;
            gap: 4px;
            margin: 5px 0;
        }
        .input-box {
            width: 60%;
            max-width: 220px;
            padding: 5px;
            font-size: 12px;
        }

        .copy-btn {
            padding: 5px;
            font-size: 12px;
            background: #3e4e58;
            color: white;
            border: none;
            cursor: pointer;
            border-radius: 4px;
        }

        .highlight-box {
            background: #3e4e58;
            padding: 5px;
            border-radius: 5px;
            font-size: 12px;
            font-weight: bold;
            margin-top: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .highlight-box input, .highlight-box select {
            padding: 4px;
            font-size: 12px;
            border-radius: 4px;
            border: none;
            width: 50px;
        }

        .spawn-distance-group {
            display: flex;
            justify-content: center;
            gap: 10px;
        }

        .order-btn {
            margin-top: 8px;
            padding: 6px 10px;
            font-size: 12px;
            background: #4caf50;
            color: white;
            border: none;
            cursor: pointer;
            border-radius: 5px;
        }

        .spawn-distance-group input {
            width: 40px;
        }

        .search-creature-box {
            width: 80%;
            max-width: 345px;
            padding: 5px;
            font-size: 12px;
        }

        /* Increased dropdown size */
        #saddleType {
            height: 30px;
			Width: 130px;
            font-size: 14px;
        }
    </style>
</head>
<body>

    </div>

    <div class="navbar">
        <h2>Oasis Gaming Admin Commands</h2>
    </div>

    <div class="tabs">
        <button class="tab-button active" onclick="openTab(event, 'creatureSpawn')">Creature Spawn</button>
        <button class="tab-button" onclick="openTab(event, 'itemSpawns')">Item Spawns</button>
        <button class="tab-button" onclick="openTab(event, 'adminCommands')">Admin Commands</button>
        <button class="tab-button" onclick="openTab(event, 'showOrder')">Show Order</button>
    </div>

    <div id="creatureSpawn" class="tab-content active">
        <input type="text" class="search-creature-box" id="searchCreature" placeholder="Type to search for creatures..." list="creatureList">

        <!-- Create a list for the datalist options dynamically -->
        <datalist id="creatureList"></datalist>

        <div class="input-group">
            <input type="text" class="input-box" id="dinoCode" placeholder="Creature Code" readonly>
            <button class="copy-btn" onclick="copyText('dinoCode')">Copy Creature Code</button>
        </div>
	<!-- Saddle Code Section (duplicate of Creature Code) -->
		<div class="input-group">
			<input type="text" class="input-box" id="saddleCode" placeholder="Saddle Code" readonly>
			<button class="copy-btn" onclick="copyText('saddleCode')">Copy Saddle Code</button>
		</div>
       	<div class="input-group">
    		<input type="text" class="input-box" id="creatureCodeWithSaddle" placeholder="Creature Code With Saddle" readonly>
    		<button class="copy-btn" onclick="copyText('creatureCodeWithSaddle')">Copy Creature Code With Saddle</button>
	</div>


        <!-- Spawn as Tamed checkbox -->
        <div class="highlight-box">
            <label for="spawnTamedCheckbox" style="display: flex; align-items: center;">
				<span style="margin-right: 0px; white-space: nowrap;">Tamed:</span>
				<input type="checkbox" id="spawnTamedCheckbox" style="margin-left: -15px;">
            </label>
        </div>

        <!-- Level section -->
        <div class="highlight-box">
            <label>Level:
                <input type="number" id="level" value="300">
            </label>
        </div>

        <!-- Spawn Distance section -->
        <div class="highlight-box" id="spawnDistanceSection">
            <label>Spawn Distance:</label>
            <div class="spawn-distance-group">
                <label>X: <input type="number" id="spawnX" value="500"></label>
                <label>Y: <input type="number" id="spawnY" value="0"></label>
                <label>Z: <input type="number" id="spawnZ" value="0"></label>
            </div>
        </div>

        <!-- Saddle Section -->
        <div class="highlight-box">
            <label>Saddle:</label>
            <select id="saddleType">
                <option value="none">None</option>
                <option value="saddle">Saddle</option>
                <option value="platformSaddle">Platform Saddle</option>
                <option value="tekSaddle">Tek Saddle</option>
            </select>
            <label>Quantity:
                <input type="number" id="saddleQuantity" value="1" min="1">
            </label>
            <label>Quality (0-100):
                <input type="number" id="saddleQuality" value="0" min="0" max="100">
            </label>
        </div>

        <!-- Button to add to order -->
        <button class="order-btn">Add To Order</button>
    </div>

    <div id="itemSpawns" class="tab-content">
        <h3>Item Spawns</h3>
        <p>Item spawn configuration goes here.</p>
    </div>

    <div id="adminCommands" class="tab-content">
        <h3>Admin Commands</h3>
        <p>Admin command settings go here.</p>
    </div>

    <div id="showOrder" class="tab-content">
        <h3>Show Order</h3>
        <p>Orders will be displayed here.</p>
    </div>

<script>
// Update saddle code when saddle dropdown, quantity, or quality changes
document.getElementById('saddleType').addEventListener('change', updateSaddleCode);
document.getElementById('saddleQuantity').addEventListener('input', updateSaddleCode);
document.getElementById('saddleQuality').addEventListener('input', updateSaddleCode);


// Creature data (JSON)
let creaturesData = { creatures: [] };

// Function to fetch creature data from Creature.json
async function loadCreatureData() {
    try {
        const response = await fetch('Creature.json');
        creaturesData = await response.json();
        console.log("Creature data loaded:", creaturesData);

        // Populate the searchable dropdown after data is loaded
        populateCreatureList();
    } catch (error) {
        console.error("Error loading creature data:", error);
    }
}

// Function to populate the searchable creature dropdown
function populateCreatureList() {
    const datalist = document.getElementById('creatureList');
    if (!datalist) return;

    datalist.innerHTML = creaturesData.creatures
        .map(creature => `<option value="${creature.name}">${creature.name}</option>`)
        .join('');
}

// Load the creature data when the page is loaded
document.addEventListener('DOMContentLoaded', loadCreatureData);


// Event listener for the "Spawn as Tamed" checkbox
document.getElementById('spawnTamedCheckbox').addEventListener('change', function() {
    const spawnDistanceSection = document.getElementById('spawnDistanceSection');
    const spawnTamedCheckbox = document.getElementById('spawnTamedCheckbox');
    
    if (spawnTamedCheckbox.checked) {
        // Disable and gray out the spawn distance inputs
        spawnDistanceSection.style.opacity = 0.5;
        spawnDistanceSection.querySelectorAll('input').forEach(input => {
            input.disabled = true;
        });
    } else {
        // Enable the spawn distance inputs
        spawnDistanceSection.style.opacity = 1;
        spawnDistanceSection.querySelectorAll('input').forEach(input => {
            input.disabled = false;
        });
    }
    updateCheatCommand(); // Update the cheat command
});


// Function to update the cheat command based on the selection and input values
function updateCheatCommand() {
    const creatureName = document.getElementById('searchCreature').value;
    const spawnX = document.getElementById('spawnX').value;
    const spawnY = document.getElementById('spawnY').value;
    const spawnZ = document.getElementById('spawnZ').value;
    let level = document.getElementById('level').value;  // Get current level input value
    const spawnAsTamed = document.getElementById('spawnTamedCheckbox').checked;

    // Find the selected creature
    const creature = creaturesData.creatures.find(creature => creature.name.toLowerCase() === creatureName.toLowerCase());

    if (creature) {
        let cheatCommand = '';
        
        // If the creature has a maxLevel defined, override the level input
        if (creature.maxLevel && level > creature.maxLevel) {
    document.getElementById('level').value = creature.maxLevel; // Set max level in the box, but allow changes
        }

        // Generate the cheat command
        if (spawnAsTamed) {
            cheatCommand = creature.tameSummon + ' ' + level;
        } else {
            cheatCommand = `${creature.wildSummon} ${spawnX} ${spawnY} ${spawnZ} ${level}`;
        }

        document.getElementById('dinoCode').value = cheatCommand; // Display in Dino Code box
		updateCreatureCodeWithSaddle(); // Manually trigger update

        // Automatically update the level input to reflect maxLevel if it's set
        if (creature.maxLevel) {
            document.getElementById('level').value = creature.maxLevel;
        }
    }
}


// Creature search functionality
document.getElementById('searchCreature').addEventListener('input', function() {
    const query = this.value.toLowerCase();
    const filteredCreatures = creaturesData.creatures.filter(creature =>
        creature.name.toLowerCase().includes(query)
    );
    const options = filteredCreatures.map(creature => `<option value="${creature.name}">${creature.name}</option>`);
    const datalist = document.getElementById('creatureList');
    datalist.innerHTML = options.join('');
});

// Close the datalist when a creature is selected
document.getElementById('searchCreature').addEventListener('change', function() {
    const datalist = document.getElementById('creatureList');
    datalist.innerHTML = ''; // Clear datalist after selection
    updateCheatCommand(); // Generate the code immediately
});

// Automatically update code on level or spawn coordinate change
document.getElementById('level').addEventListener('input', updateCheatCommand);
document.getElementById('spawnX').addEventListener('input', updateCheatCommand);
document.getElementById('spawnY').addEventListener('input', updateCheatCommand);
document.getElementById('spawnZ').addEventListener('input', updateCheatCommand);

// Function to copy text to clipboard
function copyText(elementId) {
    const inputElement = document.getElementById(elementId);
    inputElement.select();
    inputElement.setSelectionRange(0, 99999); // For mobile devices
    document.execCommand("copy");
    alert(`${elementId} copied to clipboard!`);
}

// Tab functionality
function openTab(evt, tabName) {
    let i, tabcontent, tablinks;
    tabcontent = document.getElementsByClassName("tab-content");
    for (i = 0; i < tabcontent.length; i++) {
        tabcontent[i].classList.remove("active");
    }
    tablinks = document.getElementsByClassName("tab-button");
    for (i = 0; i < tablinks.length; i++) {
        tablinks[i].classList.remove("active");
    }
    document.getElementById(tabName).classList.add("active");
    evt.currentTarget.classList.add("active");
}
// Your existing code...

// Check the "Tamed" checkbox on page load
document.addEventListener('DOMContentLoaded', function() {
    const spawnTamedCheckbox = document.getElementById('spawnTamedCheckbox');
    const spawnDistanceSection = document.getElementById('spawnDistanceSection');
    
    // Set "Tamed" checkbox to checked by default
    spawnTamedCheckbox.checked = true;
    
    // If "Tamed" is checked, gray out spawn distance on page load
    if (spawnTamedCheckbox.checked) {
        spawnDistanceSection.style.opacity = 0.5;
        spawnDistanceSection.querySelectorAll('input').forEach(input => {
            input.disabled = true;
        });
    } else {
        spawnDistanceSection.style.opacity = 1;
        spawnDistanceSection.querySelectorAll('input').forEach(input => {
            input.disabled = false;
        });
    }

    updateCheatCommand(); // Update the cheat command immediately with the Tamed option checked
});
// Creature search functionality (input event)
document.getElementById('searchCreature').addEventListener('input', function() {
    const query = this.value.toLowerCase();
    const filteredCreatures = creaturesData.creatures.filter(creature =>
        creature.name.toLowerCase().includes(query)
    );
    const options = filteredCreatures.map(creature => `<option value="${creature.name}">${creature.name}</option>`);
    const datalist = document.getElementById('creatureList');
    datalist.innerHTML = options.join('');
});

// Update cheat command when a creature is selected from the list
document.getElementById('searchCreature').addEventListener('change', function() {
    updateCheatCommand(); // Update creature command
    updateSaddleOptions(this.value); // Update saddle dropdown based on creature
});
// Function to update the available saddles based on the selected creature
function updateSaddleOptions(creatureName) {
    const saddleDropdown = document.getElementById('saddleType');
    
    // Find the selected creature
    const creature = creaturesData.creatures.find(creature => creature.name.toLowerCase() === creatureName.toLowerCase());
    
    // If creature is found
    if (creature) {
        // Clear previous options
        saddleDropdown.innerHTML = '';
        
        // Create options for available saddles
        if (creature.saddle !== 'NA') {
            const saddleOption = document.createElement('option');
            saddleOption.value = 'saddle';
            saddleOption.textContent = 'Saddle';
            saddleDropdown.appendChild(saddleOption);
        }
        
        if (creature.platformSaddle !== 'NA') {
            const platformSaddleOption = document.createElement('option');
            platformSaddleOption.value = 'platformSaddle';
            platformSaddleOption.textContent = 'Platform Saddle';
            saddleDropdown.appendChild(platformSaddleOption);
        }
        
        if (creature.tekSaddle !== 'NA') {
            const tekSaddleOption = document.createElement('option');
            tekSaddleOption.value = 'tekSaddle';
            tekSaddleOption.textContent = 'Tek Saddle';
            saddleDropdown.appendChild(tekSaddleOption);
        }
    }
}

// Call this function whenever a creature is selected
document.getElementById('searchCreature').addEventListener('change', function() {
    const creatureName = this.value;
    updateSaddleOptions(creatureName);  // Update saddle options based on the selected creature
    updateCheatCommand(); // Update the cheat code immediately
});

// Function to update the Saddle Code box
function updateSaddleCode() {
    const creatureName = document.getElementById('searchCreature').value;
    const selectedSaddle = document.getElementById('saddleType').value;
    const quantity = document.getElementById('saddleQuantity').value;
    const quality = document.getElementById('saddleQuality').value;
    
    // Find the selected creature in JSON data
    const creature = creaturesData.creatures.find(creature => creature.name.toLowerCase() === creatureName.toLowerCase());

    if (creature) {
        let saddleCommand = '';

        // Match selected saddle type with the JSON file keys
        if (selectedSaddle === 'saddle' && creature.saddle !== 'NA') {
            saddleCommand = creature.saddle;
        } else if (selectedSaddle === 'platformSaddle' && creature.platformSaddle !== 'NA') {
            saddleCommand = creature.platformSaddle;
        } else if (selectedSaddle === 'tekSaddle' && creature.tekSaddle !== 'NA') {
            saddleCommand = creature.tekSaddle;
        }

        // If a saddle command exists, format it with quantity and quality
        if (saddleCommand) {
            document.getElementById('saddleCode').value = `${saddleCommand} ${quantity} ${quality}`;
			updateCreatureCodeWithSaddle();
        } else {
            document.getElementById('saddleCode').value = ''; // Clear if no valid saddle
        }
    }
}

function updateSaddleOptions(creatureName) {
    const saddleDropdown = document.getElementById('saddleType');
    
    // Find the selected creature
    const creature = creaturesData.creatures.find(creature => creature.name.toLowerCase() === creatureName.toLowerCase());
    
    if (creature) {
        // Clear previous options
        saddleDropdown.innerHTML = '';

        // Add available saddle options
        if (creature.saddle !== 'NA') {
            const saddleOption = document.createElement('option');
            saddleOption.value = 'saddle';
            saddleOption.textContent = 'Saddle';
            saddleDropdown.appendChild(saddleOption);
        }

        if (creature.platformSaddle !== 'NA') {
            const platformSaddleOption = document.createElement('option');
            platformSaddleOption.value = 'platformSaddle';
            platformSaddleOption.textContent = 'Platform Saddle';
            saddleDropdown.appendChild(platformSaddleOption);
        }

        if (creature.tekSaddle !== 'NA') {
            const tekSaddleOption = document.createElement('option');
            tekSaddleOption.value = 'tekSaddle';
            tekSaddleOption.textContent = 'Tek Saddle';
            saddleDropdown.appendChild(tekSaddleOption);
        }

        // Trigger saddle code update when creature changes
        updateSaddleCode();
    }
}

    // Function to update Creature Code With Saddle
    function updateCreatureCodeWithSaddle() {
        const creatureCode = document.getElementById('dinoCode').value.trim(); // Correct ID
        const saddleCode = document.getElementById('saddleCode').value.trim();
        const combinedCode = creatureCode && saddleCode ? `${creatureCode}|${saddleCode}` : creatureCode || saddleCode;
        
        document.getElementById('creatureCodeWithSaddle').value = combinedCode;
    }

    // Attach event listeners to update the combined code dynamically
    document.getElementById('dinoCode').addEventListener('input', updateCreatureCodeWithSaddle);
	document.getElementById('saddleCode').addEventListener('input', updateCreatureCodeWithSaddle);

</script>

</body>
</html>
